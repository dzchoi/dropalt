{
    "version": "0.2.0",
    "configurations": [
        {
            "name": "Monolithic Firmware",
            "type": "cppdbg",
            "request": "launch",

            "program": "${workspaceRoot}/.build/board-dropalt/dropalt-fw.elf",
            "args": [],
            "stopAtEntry": true,
            "targetArchitecture": "arm",
            "cwd": "${workspaceRoot}",
            "environment": [],
            "externalConsole": false,

            "debugServerPath": "openocd",
            "debugServerArgs": "-f ${workspaceRoot}/openocd.cfg",
            "serverStarted": "Listening on port 3333",
            "filterStderr": true,
            "hardwareBreakpoints": { "require": true, "limit": 6 },

            "MIMode": "gdb",
            "miDebuggerPath": "gdb-multiarch",
            "miDebuggerArgs": "${workspaceRoot}/.build/board-dropalt/dropalt-fw.elf",
            // miDebuggerServerAddress is more desirable than adding "-iex \"target
            // extended-remote localhost:3333\"" to miDebuggerArgs.
            // See https://github.com/microsoft/vscode-cpptools/issues/833#issuecomment-806848488
            "miDebuggerServerAddress": "localhost:3333",
            "useExtendedRemote": true,
            "setupCommands": [
                // { "text": "file ${workspaceRoot}/.build/board-dropalt/dropalt-fw.elf",
                //   "description": "load file" },
                // { "text": "load", "description": "flash target" },
                { "text": "set output-radix 16",
                  "description": "set the default numeric base to 16" },
            ],

            // Debug console messages
            "logging": {
                "moduleLoad": true,
                "trace": true,
                "engineLogging": true,
                "programOutput": true,
                "exceptions": true
            },
        }
    ]
}
